<div class="container">
  <p-toast [style]="{marginTop: '80px'}"></p-toast>

  <p-dialog header="Confirmation" [(visible)]="displayDialogToMarkAsPayed" [responsive]="true" [style]="{ minWidth: '200px'}" [minY]="70"
            [maximizable]="false" [baseZIndex]="10000">
    <h3> Mark this check as payed? </h3>
    <br />
    <p-footer>
      <button mat-raised-button color="primary" type="button" (click)="displayDialogToMarkAsPayed = false; markAsPayed()">
        Yes</button>
      <button mat-raised-button color="primary" type="button" (click)="displayDialogToMarkAsPayed = false;">
        No</button>
    </p-footer>
  </p-dialog>

  <mat-card>
    <mat-card-header background-color="accent">
      <h1 class = "myFont" >Checkbook</h1>
    </mat-card-header>
    <mat-card-content >
      <mat-tab-group mat-stretch-tabs class="example-stretched-tabs mat-elevation-z4"
                     style="height: auto; width: 100%;"
                     (selectedTabChange)="loadChecks($event)">
        <mat-tab label="I owe" >
          <div class="basic-container">
            <mat-grid-list cols="1" rowHeight="140px" gutterSize="10px" [style.height]="'fit'">
              <mat-grid-tile *ngFor="let check of checksToPay" style="border-style: ridge;
                            height: 40px;" >
                <!--<mat-card [style.width]="'100%'"  style="cursor: pointer;">-->

                  <div  >
                      <div style="height: 40px; width: 600px;" >
                        <a >
                          <h3 class="title" (click)="openCheck(check)"
                              style="float: left; margin-left: 150px;  cursor: pointer;"> To {{check.name}}
                          </h3>
                          <button mat-raised-button color="primary" [routerLink]="['/check-list/check-pay', check.id]"
                                  style="float: right; margin-right: -150px; float: top; margin-top: 10px;">
                            Pay
                          </button>
                        </a>
                      </div>
                    <mat-divider></mat-divider>
                    <br />

                    <h3 style="color: #989898"><span align="left" class="meeting-title" style="color:steelblue">
                    Data: </span>
                      {{check.checkOwner.participantOfMeeting.dateOfMeeting? parse(check.checkOwner.participantOfMeeting.dateOfMeeting.toString()): "-"}}
                      <span align="left" class="meeting-title" style="color:steelblue; margin-left: 50px;" >
                        From meeting: </span>{{check.checkOwner.participantOfMeeting.name}}
                      <span align="right" class="meeting-title" style="color:steelblue; float: right; margin-right: 30px;">
                                Amount:
                                <span style="color: #989898">{{check.checkAmount}}
                                </span>
                            </span>
                    </h3>
                  </div>


                <!--</mat-card>-->
              </mat-grid-tile>
            </mat-grid-list>
          </div>
        </mat-tab>

        <mat-tab label="I'm owed " >
          <div class="basic-container">
            <mat-grid-list cols="1" rowHeight="140px" gutterSize="10px" [style.height]="'fit'">
              <mat-grid-tile *ngFor="let check of checksFromOwners"
                             style="border-style: ridge; height: 40px;" >
                <!--<mat-card [style.width]="'100%'" style="cursor: pointer;">-->
                <div  >
                  <div style="height: 40px; width: 600px;" >
                    <a >
                      <h3 class="title" (click)="openCheck(check)"
                          style="float: left; margin-left: 150px; cursor: pointer;"> From  {{check.checkOwner.name}}
                      </h3>
                      <button mat-raised-button color="primary"(click)="fixCheck(check)"
                              style="float: right; margin-right: -150px; float: top; margin-top: 10px;">
                        Mark as payed
                      </button>
                    </a>
                  </div>
                  <mat-divider></mat-divider>
                  <br />

                  <h3 style="color: #989898"><span align="left" class="meeting-title" style="color:steelblue">
                    Data: </span>
                    {{check.checkOwner.participantOfMeeting.dateOfMeeting? parse(check.checkOwner.participantOfMeeting.dateOfMeeting.toString()): "-"}}
                    <span align="left" class="meeting-title" style="color:steelblue; margin-left: 50px;" >
                        From meeting: </span>{{check.checkOwner.participantOfMeeting.name}}
                    <span align="right" class="meeting-title" style="color:steelblue; float: right; margin-right: 30px;">
                                Amount:
                                <span style="color: #989898">{{check.checkAmount}}
                                </span>
                            </span>
                  </h3>
                </div>

              </mat-grid-tile>
            </mat-grid-list>
          </div>
        </mat-tab>

        <mat-tab label="History" >
          <div class="basic-container">
            <mat-grid-list cols="1" rowHeight="140px" gutterSize="10px" [style.height]="'fit'">
              <mat-grid-tile *ngFor="let check of checksHistory" style="border-style: ridge;
              height: 40px; " >

                  <div  >
                    <div style="height: 40px; width: 600px;" >
                      <a >
                        <h3 class="title" (click)="openCheck(check)"
                            style="float: left; margin-left: 150px;  cursor: pointer;">
                          {{check.checkOwner.meetingParticipant.id===myId? 'To ':'From '}}
                          {{check.checkOwner.meetingParticipant.id===myId? check.name: check.checkOwner.name}}
                        </h3>

                      </a>
                    </div>
                    <mat-divider></mat-divider>
                    <br />

                    <h3 style="color: #989898"><span align="left" class="meeting-title" style="color:steelblue">
                    Data: </span>
                      {{check.checkOwner.participantOfMeeting.dateOfMeeting? parse(check.checkOwner.participantOfMeeting.dateOfMeeting.toString()): "-"}}
                      <span align="left" class="meeting-title" style="color:steelblue; margin-left: 50px;" >
                        From meeting: </span>{{check.checkOwner.participantOfMeeting.name}}
                      <span align="right" class="meeting-title" style="color:steelblue; float: right; margin-right: 30px;">
                                Amount:
                                <span style="color: #989898">{{check.checkAmount}}
                                </span>
                            </span>
                    </h3>
                  </div>
              </mat-grid-tile>
            </mat-grid-list>


          </div>

        </mat-tab>
      </mat-tab-group>

    </mat-card-content>


  </mat-card>
</div>